/* ================= BASE ================= */

body{
    margin:0;
    background:#ffffff;
    overflow:hidden;
    font-family:Arial, Helvetica, sans-serif;
}

/* ================= HEADER ================= */

.header{
    position:fixed;
    top:20px;
    width:100%;
    display:flex;
    justify-content:center;
    z-index:20;
}

.header img{
    height:80px;
    opacity:0.9;
}

/* ================= TIMER ================= */

.timer{
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    z-index:15;
}

#clock{
    position:relative;
    color:black;
    font-size:170px;
    font-weight:bold;

    text-shadow:
        0 0 2px #000,
        0 0 4px #000,
        0 0 10px rgba(0,0,0,0.35),
        0 0 20px rgba(0,0,0,0.25);
}

#clock::before{
    content: attr(data-time);
    position:absolute;
    inset:0;
    color:transparent;
    -webkit-text-stroke: 6px black;
    opacity:0.35;
    z-index:-1;
}

/* ================= LOGO FLOW ================= */

#logoLayer{
    position:fixed;
    inset:0;
    z-index:5;
    overflow:hidden;
}

.logo{
    position:absolute;
    width:130px;
    height:70px;
    background-size:contain;
    background-repeat:no-repeat;
    background-position:center;
    opacity:0.95;
    filter:
        brightness(0.9)
        contrast(1.05)
        drop-shadow(0 0 6px rgba(0,0,0,0.15));
}

/* ================= MASKS ================= */

#readMask{
    position:fixed;
    inset:0;
    z-index:10;
    pointer-events:none;
    background:
    radial-gradient(circle at center,
        rgba(255,255,255,0) 320px,
        rgba(255,255,255,0.45) 750px,
        rgba(255,255,255,0.85) 1400px);
}

#focusMask{
    position:fixed;
    inset:0;
    z-index:12;
    pointer-events:none;
    box-shadow:inset 0 0 180px rgba(255,255,255,0.6);
}

/* ================= VIDEO ================= */

#videoLayer{
    position:fixed;
    inset:0;
    background:black;
    display:none;
    justify-content:center;
    align-items:center;
    z-index:50;
}

#video{
    width:100%;
    height:100%;
    object-fit:cover;
}

#logoMask{
    position:fixed;
    inset:0;
    z-index:6;
    pointer-events:none;
}

/* ================= QR OVERLAY ================= */

#qrLayer{
    position:fixed;
    inset:0;
    display:none;
    justify-content:center;
    align-items:center;
    background:rgba(0,0,0,0.82);
    z-index:45;
    backface-visibility:hidden;
    transform:translateZ(0);
}

#timerMask{
    position:fixed;
    pointer-events:none;
    z-index:14;
    background:white;
    border-radius:999px;
    transition: all 0.1s linear;
}

/* ===== TIMER OCCLUSION STRIP ===== */
#timerOcclusion{
    display:none;
}


/* ========================================================= */
/* ====================== LAYOUT ENGINE ===================== */
/* ========================================================= */

#screenLayout{
    position:fixed;
    inset:0;
    display:flex;
    flex-direction:row;
}

/* default: timer fullscreen */
#timerContainer{
    position:relative;
    width:100%;
    height:100%;
    transition:all .5s ease;
}

#videoContainer{
    position:relative;
    width:0%;
    height:100%;
    overflow:hidden;
    transition:all .5s ease;
}

/* ===== VIDEO MODE ACTIVE ===== */

body.video-mode #timerContainer{
    width:28%;
    min-width:320px;
    background:#000;
    z-index:60;
}

body.video-mode #videoContainer{
    width:72%;
}

/* video fills its panel */
body.video-mode #videoLayer{
    position:absolute;
    inset:0;
    display:flex !important;
}

/* prevent fullscreen timer locking */
body.video-mode .timer{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%) scale(.45);
}

/* shrink masks with timer */
body.video-mode #timerMask{
    position:absolute;
}

body.video-mode #readMask,
body.video-mode #focusMask,
body.video-mode #logoLayer{
    display:none;
}
